(this["webpackJsonpmusical-typing"]=this["webpackJsonpmusical-typing"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(11),s=n.n(o),i=(n(18),n(3)),r=n(10),l=n(4),h=n(5),u=n(2),j=n(7),d=n(6),b=n(8),p=n.n(b),m=(n(19),n(13)),v=(n(20),n(0)),O=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={chars:"",note:"C",octave:"3",duration:2e3,velocity:100,channel:1},a.handleInputChanges=a.handleInputChanges.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(h.a)(n,[{key:"handleInputChanges",value:function(e){var t=e.target,n=t.name,a="checkbox"===t.type?t.checked:t.value;this.setState(Object(i.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t,n=Object(m.a)(this.state.chars);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.props.updateCharToNote(a,{note:this.state.note+this.state.octave,duration:Number(this.state.duration),velocity:Number(this.state.velocity)/127,channel:Number(this.state.channel)})}}catch(c){n.e(c)}finally{n.f()}}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"map-form-container",children:[Object(v.jsxs)("form",{className:"map-form",onSubmit:this.handleSubmit,children:[Object(v.jsxs)("div",{className:"map-form__chars",children:[Object(v.jsx)("label",{htmlFor:"chars",children:"Char(s): "}),Object(v.jsx)("input",{name:"chars",type:"text",onChange:this.handleInputChanges})]}),Object(v.jsxs)("div",{className:"map-form__note",children:[Object(v.jsx)("label",{htmlFor:"note",children:"Note: "}),Object(v.jsxs)("select",{name:"note",value:this.state.note,onChange:this.handleInputChanges,children:[Object(v.jsx)("option",{value:"C",children:"C"}),Object(v.jsx)("option",{value:"C#",children:"C#"}),Object(v.jsx)("option",{value:"D",children:"D"}),Object(v.jsx)("option",{value:"D#",children:"D#/Eb"}),Object(v.jsx)("option",{value:"E",children:"E"}),Object(v.jsx)("option",{value:"F",children:"F"}),Object(v.jsx)("option",{value:"F#",children:"F#/Gb"}),Object(v.jsx)("option",{value:"G",children:"G"}),Object(v.jsx)("option",{value:"G#",children:"G#/Ab"}),Object(v.jsx)("option",{value:"A",children:"A"}),Object(v.jsx)("option",{value:"A#",children:"A#/Bb"}),Object(v.jsx)("option",{value:"B",children:"B"})]})]}),Object(v.jsxs)("div",{className:"map-form__octave",children:[Object(v.jsx)("label",{htmlFor:"octave",children:"Octave: "}),Object(v.jsx)("select",{name:"octave",value:this.state.octave,onChange:this.handleInputChanges,children:Array(11).fill().map((function(e,t){return Object(v.jsx)("option",{value:t-1,children:t-1},t-1)}))})]}),Object(v.jsxs)("div",{className:"map-form__duration",children:[Object(v.jsx)("label",{htmlFor:"duration",children:"Duration(ms): "}),Object(v.jsx)("input",{name:"duration",type:"text",value:this.state.duration,onChange:this.handleInputChanges})]}),Object(v.jsxs)("div",{className:"map-form__velocity",children:[Object(v.jsx)("label",{htmlFor:"velocity",children:"Velocity: "}),Object(v.jsx)("select",{name:"velocity",value:this.state.velocity,onChange:this.handleInputChanges,children:Array(128).fill().map((function(e,t){return Object(v.jsx)("option",{value:t,children:t},t)}))})]}),Object(v.jsxs)("div",{className:"map-form__channel",children:[Object(v.jsx)("label",{htmlFor:"channel",children:"Channel: "}),Object(v.jsx)("select",{name:"channel",value:this.state.channel,onChange:this.handleInputChanges,children:Array(16).fill().map((function(e,t){return Object(v.jsx)("option",{value:t+1,children:t+1},t+1)}))})]}),Object(v.jsx)("input",{type:"submit",value:"Submit"})]}),Object(v.jsx)("button",{className:"map-form__reset",onClick:this.props.resetMapping,children:"Reset Mapping"})]})}}]),n}(a.Component),f=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onKeyPress=a.onKeyPress.bind(Object(u.a)(a)),a}return Object(h.a)(n,[{key:"onKeyPress",value:function(e){var t=e.which,n=String.fromCharCode(t);if(this.props.charToNote[n]){var a=this.props.charToNote[n];this.props.midiOutput.playNote(a.notes,a.channel,{duration:a.duration,velocity:a.velocity})}}},{key:"render",value:function(){return Object(v.jsx)("textarea",{name:"text",id:"",cols:"30",rows:"10",onKeyPress:this.onKeyPress})}}]),n}(a.Component),x=n(12),g=n.n(x),N=(n(22),function(e){var t=e.text,n=e.active,a=e.setMode;return Object(v.jsx)("button",{className:g()("nav__item",{"nav__item--active":n}),onClick:a,children:t})}),y=(n(23),function(e){var t=e.mode,n=e.setMode;return Object(v.jsxs)("nav",{className:"nav",children:[Object(v.jsx)(N,{text:"Map",active:"MAP"===t,setMode:function(){return n("MAP")}}),Object(v.jsx)(N,{text:"Play",active:"PLAY"===t,setMode:function(){return n("PLAY")}})]})}),C=(n(24),n(25),function(e){var t=e.note,n=e.char;return Object(v.jsx)("div",{className:"note-mapping__item",children:"".concat(n," - ").concat(t)})}),T=function(e){var t=e.charToNote,n=Object.entries(t).map((function(e){return{char:e[0],values:e[1]}})).sort((function(e,t){return t<e?t:e}));return Object(v.jsx)("div",{className:"note-mapping",children:n.map((function(e){return Object(v.jsx)(C,{note:e.values.notes[0],char:e.char},e.char)}))})},M=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={mode:localStorage.getItem("mode")||"MAP",charToNote:localStorage.getItem("charToNote")?JSON.parse(localStorage.getItem("charToNote")):{},midiOutput:null},a.setMode=a.setMode.bind(Object(u.a)(a)),a.updateCharToNote=a.updateCharToNote.bind(Object(u.a)(a)),a.resetMapping=a.resetMapping.bind(Object(u.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.enable((function(t){t?console.log("WEB MIDI ERROR: ",t):(console.log("--OUTPUTS--"),console.log(p.a.outputs),e.setState({midiOutput:p.a.outputs[0]}))}))}},{key:"setMode",value:function(e){var t=this;this.setState({mode:e},(function(){return localStorage.setItem("mode",t.state.mode)}))}},{key:"updateCharToNote",value:function(e,t){var n=this,a=t.note,c=t.duration,o=t.velocity,s=t.channel;this.setState((function(t){return{charToNote:Object(r.a)(Object(r.a)({},t.charToNote),{},Object(i.a)({},e,{notes:[a],duration:c,velocity:o,channel:s}))}}),(function(){return[localStorage.setItem("charToNote",JSON.stringify(n.state.charToNote)),console.log(n.state.charToNote)]}))}},{key:"resetMapping",value:function(){this.setState({charToNote:{}},(function(){return localStorage.setItem("charToNote","{}")}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(y,{mode:this.state.mode,setMode:this.setMode}),Object(v.jsx)(T,{charToNote:this.state.charToNote}),"MAP"===this.state.mode?Object(v.jsx)(O,{updateCharToNote:this.updateCharToNote,resetMapping:this.resetMapping}):Object(v.jsx)(f,{charToNote:this.state.charToNote,midiOutput:this.state.midiOutput})]})}}]),n}(a.Component),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),o(e),s(e)}))};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(M,{})}),document.getElementById("root")),S()}},[[26,1,2]]]);
//# sourceMappingURL=main.4727a0de.chunk.js.map